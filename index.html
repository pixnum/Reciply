<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pro Recipe Generator</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        background: #f5f5f5;
        color: #333;
    }
    header {
        background: #4CAF50;
        color: white;
        padding: 1rem;
        text-align: center;
    }
    main {
        padding: 1rem;
        max-width: 900px;
        margin: auto;
    }
    section {
        background: white;
        padding: 1rem;
        border-radius: 8px;
        margin-bottom: 1rem;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    input, button, textarea {
        padding: 0.5rem;
        margin: 0.25rem 0;
        width: 100%;
        box-sizing: border-box;
    }
    button {
        background: #4CAF50;
        color: white;
        border: none;
        cursor: pointer;
        border-radius: 4px;
    }
    button:hover {
        background: #45a049;
    }
    ul, ol {
        padding-left: 1.5rem;
    }
    li.checked {
        text-decoration: line-through;
        color: gray;
    }
    .timer {
        margin-top: 0.5rem;
        display: flex;
        gap: 0.5rem;
    }
    .flex-btn {
        display: flex;
        gap: 0.5rem;
        margin-top: 0.5rem;
    }
</style>
</head>
<body>

<header>
    <h1>Pro Recipe Generator</h1>
</header>

<main>
    <section>
        <h2>Generate a Recipe</h2>
        <label>Enter Ingredients (comma separated):</label>
        <input type="text" id="ingredientInput" placeholder="e.g. chicken, rice, tomato">
        <button onclick="generateRecipe()">Generate Recipe</button>
    </section>

    <section id="recipeSection" style="display:none;">
        <h2>Recipe</h2>
        <p id="recipeTitle"></p>
        <p><strong>Total Cooking Time:</strong> <span id="totalTime"></span> minutes</p>

        <h3>Ingredients (Metric):</h3>
        <ul id="ingredientList"></ul>

        <h3>Cooking Procedure:</h3>
        <ol id="stepsList"></ol>

        <h3>Nutrition Estimates (approx):</h3>
        <p id="nutritionInfo"></p>

        <div class="flex-btn">
            <button onclick="saveRecipe()">ðŸ’¾ Save</button>
            <button onclick="clearRecipe()">ðŸ—‘ Clear</button>
        </div>
    </section>

    <section id="shoppingListSection" style="display:none;">
        <h2>Shopping List</h2>
        <ul id="shoppingList"></ul>
    </section>
</main>

<script>
const nutritionDB = {
    chicken: {cal:165, protein:31, carbs:0, fat:3.6},
    rice: {cal:130, protein:2.7, carbs:28, fat:0.3},
    tomato: {cal:18, protein:0.9, carbs:3.9, fat:0.2},
    potato: {cal:77, protein:2, carbs:17, fat:0.1},
    egg: {cal:68, protein:6, carbs:0.6, fat:5},
    milk: {cal:42, protein:3.4, carbs:5, fat:1}
};

function randomGrams() {
    return Math.floor(Math.random() * 200) + 50; // 50â€“250g
}

function estimateCookingTime(ingredientCount) {
    return ingredientCount * 5 + 15; // Simple estimation
}

function generateRecipe() {
    const input = document.getElementById("ingredientInput").value.trim();
    if (!input) return alert("Please enter ingredients.");
    const ingredients = input.split(",").map(i=>i.trim().toLowerCase());

    document.getElementById("recipeSection").style.display = "block";
    document.getElementById("shoppingListSection").style.display = "block";

    document.getElementById("recipeTitle").textContent = "Delicious Dish with " + ingredients.join(", ");

    // Total time
    const totalTime = estimateCookingTime(ingredients.length);
    document.getElementById("totalTime").textContent = totalTime;

    // Ingredient list with metric measurements
    const ingList = document.getElementById("ingredientList");
    ingList.innerHTML = "";
    const measuredIngredients = [];
    ingredients.forEach(ing=>{
        const grams = randomGrams();
        const li = document.createElement("li");
        li.textContent = `${ing} - ${grams} g`;
        measuredIngredients.push({name: ing, grams});
        ingList.appendChild(li);
    });

    // Cooking procedure
    const stepsList = document.getElementById("stepsList");
    stepsList.innerHTML = "";
    stepsList.innerHTML = `
        <li>Wash and prepare all ingredients.</li>
        <li>Heat oil in a pan and add ${ingredients[0] || 'main ingredient'}.</li>
        <li>Add remaining ingredients and stir well.</li>
        <li>Cook for ${totalTime} minutes or until done.</li>
        <li>Serve hot and enjoy!</li>
    `;

    // Shopping list
    const shopList = document.getElementById("shoppingList");
    shopList.innerHTML = "";
    ingredients.forEach(ing=>{
        const li = document.createElement("li");
        li.textContent = ing;
        li.onclick = ()=> li.classList.toggle("checked");
        shopList.appendChild(li);
    });

    // Nutrition calculation
    let total = {cal:0, protein:0, carbs:0, fat:0};
    ingredients.forEach(ing=>{
        if (nutritionDB[ing]) {
            total.cal += nutritionDB[ing].cal;
            total.protein += nutritionDB[ing].protein;
            total.carbs += nutritionDB[ing].carbs;
            total.fat += nutritionDB[ing].fat;
        }
    });
    document.getElementById("nutritionInfo").textContent =
        `${total.cal} kcal | Protein: ${total.protein}g | Carbs: ${total.carbs}g | Fat: ${total.fat}g`;

    // Save current recipe to memory
    currentRecipe = {
        title: document.getElementById("recipeTitle").textContent,
        totalTime,
        ingredients: measuredIngredients,
        steps: Array.from(stepsList.querySelectorAll("li")).map(li => li.textContent),
        nutrition: total
    };
}

let currentRecipe = null;

function saveRecipe() {
    if (!currentRecipe) return alert("No recipe to save.");
    const saved = JSON.parse(localStorage.getItem("savedRecipes") || "[]");
    saved.push(currentRecipe);
    localStorage.setItem("savedRecipes", JSON.stringify(saved));
    alert("Recipe saved locally!");
}

function clearRecipe() {
    document.getElementById("recipeSection").style.display = "none";
    document.getElementById("shoppingListSection").style.display = "none";
    document.getElementById("ingredientInput").value = "";
    currentRecipe = null;
}
</script>

</body>
</html>
